#!/bin/sh

lines=33
snip=$(ls -I urls -1 ~/.local/share/larbs/snippets | dmenu -i -l $lines)


contacts() {
	whut=$(printf "number\nemail" | dmenu -i -l $lines)
	case $whut in
		number) xdotool type $(grep -v "^#" ~/.local/share/larbs/snippets/$snip | dmenu -i -l $lines | cut -d '|' -f2 | sed 's/ & /\n/' | dmenu -l $lines);;
		email) xdotool type $(grep -v "^#" ~/.local/share/larbs/snippets/$snip | dmenu -i -l $lines | cut -d '|' -f3 | sed 's/ & /\n/' | dmenu -l $lines);;
	esac
}


case $snip in
	contacts) contacts;;
	tokens) xdotool type $(grep -v "^#" ~/.local/share/larbs/snippets/$snip | dmenu -i -l $lines | cut -d ' ' -f1);;
	*) xdotool type $(grep -v "^#" ~/.local/share/larbs/snippets/$snip | dmenu -i -l $lines);;
esac
